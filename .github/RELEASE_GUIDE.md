# üöÄ –†—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ –ø–æ —Ä–µ–ª–∏–∑–∞–º DB Sync CLI

## üìã –û–±–∑–æ—Ä —Å–∏—Å—Ç–µ–º—ã —Ä–µ–ª–∏–∑–æ–≤

–ü—Ä–æ–µ–∫—Ç –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—É—é —Å–∏—Å—Ç–µ–º—É —Ä–µ–ª–∏–∑–æ–≤ —Å —Ç—Ä–µ–º—è —Ç–∏–ø–∞–º–∏ —Å–±–æ—Ä–æ–∫:

### 1. üè∑Ô∏è **–°—Ç–∞–±–∏–ª—å–Ω—ã–µ —Ä–µ–ª–∏–∑—ã** (Tagged releases)
- **–¢—Ä–∏–≥–≥–µ—Ä**: –°–æ–∑–¥–∞–Ω–∏–µ —Ç–µ–≥–∞ –≤–µ—Ä—Å–∏–∏ (–Ω–∞–ø—Ä–∏–º–µ—Ä, `v1.0.0`)
- **–ß–∞—Å—Ç–æ—Ç–∞**: –ü–æ –º–µ—Ä–µ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏
- **–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ**: –°—Ç–∞–±–∏–ª—å–Ω—ã–µ –≤—ã–ø—É—Å–∫–∏ –¥–ª—è –ø—Ä–æ–¥—É–∫—Ç–∏–≤–Ω–æ–≥–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è

### 2. üåô **Nightly —Å–±–æ—Ä–∫–∏** (Main branch)
- **–¢—Ä–∏–≥–≥–µ—Ä**: –ö–æ–º–º–∏—Ç –≤ `main` –≤–µ—Ç–∫—É
- **–ß–∞—Å—Ç–æ—Ç–∞**: –ü—Ä–∏ –∫–∞–∂–¥–æ–º –∏–∑–º–µ–Ω–µ–Ω–∏–∏
- **–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ**: –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –ø–æ—Å–ª–µ–¥–Ω–∏—Ö —Å—Ç–∞–±–∏–ª—å–Ω—ã—Ö –∏–∑–º–µ–Ω–µ–Ω–∏–π

### 3. üìÖ **Weekly —Å–±–æ—Ä–∫–∏** (Develop branch)
- **–¢—Ä–∏–≥–≥–µ—Ä**: –ï–∂–µ–Ω–µ–¥–µ–ª—å–Ω–æ (–≤–æ—Å–∫—Ä–µ—Å–µ–Ω—å–µ, 02:00 UTC)
- **–ß–∞—Å—Ç–æ—Ç–∞**: –†–∞–∑ –≤ –Ω–µ–¥–µ–ª—é
- **–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ**: –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –Ω–æ–≤—ã—Ö —Ñ—É–Ω–∫—Ü–∏–π –≤ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–µ

## üéØ –°–æ–∑–¥–∞–Ω–∏–µ –Ω–æ–≤–æ–≥–æ —Ä–µ–ª–∏–∑–∞

### –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π —Ä–µ–ª–∏–∑ (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)

```bash
# 1. –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ main –≤–µ—Ç–∫–∞ —Å–æ–¥–µ—Ä–∂–∏—Ç –≤—Å–µ –Ω—É–∂–Ω—ã–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è
git checkout main
git pull origin main

# 2. –°–æ–∑–¥–∞–π—Ç–µ –∏ –æ—Ç–ø—Ä–∞–≤—å—Ç–µ —Ç–µ–≥ –≤–µ—Ä—Å–∏–∏
git tag v1.2.3
git push origin v1.2.3

# 3. CI/CD –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏:
#    - –ó–∞–ø—É—Å—Ç–∏—Ç —Ç–µ—Å—Ç—ã
#    - –°–æ–±–µ—Ä—ë—Ç –±–∏–Ω–∞—Ä–Ω—ã–µ —Ñ–∞–π–ª—ã –¥–ª—è –≤—Å–µ—Ö –ø–ª–∞—Ç—Ñ–æ—Ä–º
#    - –°–æ–∑–¥–∞—Å—Ç GitHub Release
#    - –û–ø—É–±–ª–∏–∫—É–µ—Ç Docker –æ–±—Ä–∞–∑
```

### –†—É—á–Ω–æ–π —Ä–µ–ª–∏–∑ (–µ—Å–ª–∏ –Ω—É–∂–Ω–æ)

```bash
# 1. –°–æ–∑–¥–∞–Ω–∏–µ –ª–æ–∫–∞–ª—å–Ω–æ–≥–æ —Ä–µ–ª–∏–∑–∞ —Å build.ps1
.\build.ps1 build-release -Version "v1.2.3"

# 2. –°–æ–∑–¥–∞–Ω–∏–µ –∞—Ä—Ö–∏–≤–æ–≤
.\build.ps1 build-all

# 3. –†—É—á–Ω–∞—è –ø—É–±–ª–∏–∫–∞—Ü–∏—è —á–µ—Ä–µ–∑ GitHub UI
```

## üì¶ –°–±–æ—Ä–∫–∏ –¥–ª—è –ø–ª–∞—Ç—Ñ–æ—Ä–º

### –ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ–º—ã–µ –ø–ª–∞—Ç—Ñ–æ—Ä–º—ã:

| –ü–ª–∞—Ç—Ñ–æ—Ä–º–∞ | –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ | –§–æ—Ä–º–∞—Ç –∞—Ä—Ö–∏–≤–∞ | –ü—Ä–∏–º–µ—Ä —Ñ–∞–π–ª–∞ |
|-----------|-------------|---------------|--------------|
| **Linux** | x86_64      | .tar.gz       | `dbsync-v1.2.3-linux-amd64.tar.gz` |
| **Linux** | ARM64       | .tar.gz       | `dbsync-v1.2.3-linux-arm64.tar.gz` |
| **Linux** | i386        | .tar.gz       | `dbsync-v1.2.3-linux-386.tar.gz` |
| **Windows** | x86_64    | .zip          | `dbsync-v1.2.3-windows-amd64.zip` |
| **Windows** | i386      | .zip          | `dbsync-v1.2.3-windows-386.zip` |
| **macOS** | Intel       | .tar.gz       | `dbsync-v1.2.3-darwin-amd64.tar.gz` |
| **macOS** | Apple Silicon | .tar.gz     | `dbsync-v1.2.3-darwin-arm64.tar.gz` |

### –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ —Ñ–∞–π–ª—ã:
- `checksums.txt` - SHA256 —Ö–µ—à–∏ –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ —Ü–µ–ª–æ—Å—Ç–Ω–æ—Å—Ç–∏

## ÔøΩ –†–∞—Å–ø—Ä–æ—Å—Ç—Ä–∞–Ω–µ–Ω–∏–µ —Ä–µ–ª–∏–∑–æ–≤

### –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –ø—É–±–ª–∏–∫–∞—Ü–∏—è:
- **GitHub Releases** —Å –ø–æ–ª–Ω—ã–º –Ω–∞–±–æ—Ä–æ–º –ø–ª–∞—Ç—Ñ–æ—Ä–º
- **–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ checksums** –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ —Ü–µ–ª–æ—Å—Ç–Ω–æ—Å—Ç–∏  
- **Release notes** —Å –¥–µ—Ç–∞–ª—å–Ω—ã–º –æ–ø–∏—Å–∞–Ω–∏–µ–º –∏–∑–º–µ–Ω–µ–Ω–∏–π

## üìù –°–æ–∑–¥–∞–Ω–∏–µ Release Notes

### –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ Release Notes
CI/CD –≥–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç –±–∞–∑–æ–≤—ã–µ release notes –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏, –≤–∫–ª—é—á–∞—è:
- –°–ø–∏—Å–æ–∫ –∫–æ–º–º–∏—Ç–æ–≤ —Å –º–æ–º–µ–Ω—Ç–∞ –ø–æ—Å–ª–µ–¥–Ω–µ–≥–æ —Ä–µ–ª–∏–∑–∞
- –°—Å—ã–ª–∫–∏ –Ω–∞ Pull Request'—ã
- –°–ø–∏—Å–æ–∫ –∏–∑–º–µ–Ω—ë–Ω–Ω—ã—Ö —Ñ–∞–π–ª–æ–≤

### –ö–∞—Å—Ç–æ–º–Ω—ã–µ Release Notes
–î–ª—è –±–æ–ª–µ–µ –¥–µ—Ç–∞–ª—å–Ω—ã—Ö release notes —Å–æ–∑–¥–∞–π—Ç–µ —Ñ–∞–π–ª `CHANGELOG.md`:

```markdown
## [v1.2.3] - 2025-06-19

### ‚ú® –ù–æ–≤—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏
- –î–æ–±–∞–≤–ª–µ–Ω–∞ –ø–æ–¥–¥–µ—Ä–∂–∫–∞ PostgreSQL
- –ù–æ–≤—ã–π –∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω—ã–π —Ä–µ–∂–∏–º –≤—ã–±–æ—Ä–∞ —Ç–∞–±–ª–∏—Ü

### üêõ –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è –æ—à–∏–±–æ–∫
- –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∞ —É—Ç–µ—á–∫–∞ –ø–∞–º—è—Ç–∏ –ø—Ä–∏ –±–æ–ª—å—à–∏—Ö –¥–∞–º–ø–∞—Ö
- –£–ª—É—á—à–µ–Ω–∞ –æ–±—Ä–∞–±–æ—Ç–∫–∞ —Ç–∞–π–º–∞—É—Ç–æ–≤ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è

### üîß –£–ª—É—á—à–µ–Ω–∏—è
- –£–≤–µ–ª–∏—á–µ–Ω–∞ —Å–∫–æ—Ä–æ—Å—Ç—å —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏ –Ω–∞ 30%
- –û–±–Ω–æ–≤–ª—ë–Ω UI —Å –ª—É—á—à–µ–π —Ü–≤–µ—Ç–æ–≤–æ–π —Å—Ö–µ–º–æ–π

### ‚ö†Ô∏è –ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è
- –ò–∑–º–µ–Ω—ë–Ω —Ñ–æ—Ä–º–∞—Ç –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–æ–Ω–Ω–æ–≥–æ —Ñ–∞–π–ª–∞
- –£–¥–∞–ª–µ–Ω–∞ –ø–æ–¥–¥–µ—Ä–∂–∫–∞ —Å—Ç–∞—Ä—ã—Ö –≤–µ—Ä—Å–∏–π MySQL < 5.7
```

## üîß –ù–∞—Å—Ç—Ä–æ–π–∫–∞ CI/CD

### –ù–µ–æ–±—Ö–æ–¥–∏–º—ã–µ —Å–µ–∫—Ä–µ—Ç—ã GitHub:
- `GITHUB_TOKEN` - –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –¥–æ—Å—Ç—É–ø–µ–Ω
- –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ —Å–µ–∫—Ä–µ—Ç—ã –Ω–µ —Ç—Ä–µ–±—É—é—Ç—Å—è (–∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è GitHub Container Registry)

### –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –æ–∫—Ä—É–∂–µ–Ω–∏—è:
```yaml
env:
  GO_VERSION: '1.24.1'
  REGISTRY: ghcr.io
```

### –ö–∞—Å—Ç–æ–º–∏–∑–∞—Ü–∏—è workflow:
- –ò–∑–º–µ–Ω–∏—Ç–µ `.github/workflows/ci.yml` –¥–ª—è –¥–æ–±–∞–≤–ª–µ–Ω–∏—è –Ω–æ–≤—ã—Ö –ø—Ä–æ–≤–µ—Ä–æ–∫
- –î–æ–±–∞–≤—å—Ç–µ –Ω–æ–≤—ã–µ –ø–ª–∞—Ç—Ñ–æ—Ä–º—ã –≤ –º–∞—Ç—Ä–∏—Ü—É —Å–±–æ—Ä–∫–∏
- –ù–∞—Å—Ç—Ä–æ–π—Ç–µ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è (Slack, Discord, email)

## üìä –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ —Ä–µ–ª–∏–∑–æ–≤

### GitHub Actions
- –í—Å–µ workflows –¥–æ—Å—Ç—É–ø–Ω—ã –≤ —Ä–∞–∑–¥–µ–ª–µ "Actions"
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ –ø—Ä–æ–≤–µ—Ä–∫–∏ —Å—Ç–∞—Ç—É—Å–∞ —Å–±–æ—Ä–∫–∏
- –ü–æ–¥—Ä–æ–±–Ω—ã–µ –ª–æ–≥–∏ –¥–ª—è –æ—Ç–ª–∞–¥–∫–∏

### Metrics –∏ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞:
- –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –∑–∞–≥—Ä—É–∑–æ–∫ —Ä–µ–ª–∏–∑–æ–≤
- –ü–æ–ø—É–ª—è—Ä–Ω–æ—Å—Ç—å –ø–ª–∞—Ç—Ñ–æ—Ä–º
- –ò—Å—Ç–æ—Ä–∏—è —Ä–µ–ª–∏–∑–æ–≤

## üö® –û—Ç–∫–∞—Ç —Ä–µ–ª–∏–∑–∞

```bash
# 1. –£–¥–∞–ª–µ–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º–Ω–æ–≥–æ —Ä–µ–ª–∏–∑–∞
gh release delete v1.2.3 --yes

# 2. –£–¥–∞–ª–µ–Ω–∏–µ —Ç–µ–≥–∞
git tag -d v1.2.3
git push origin --delete v1.2.3

# 3. –°–æ–∑–¥–∞–Ω–∏–µ hotfix —Ä–µ–ª–∏–∑–∞
git checkout v1.2.2
git checkout -b hotfix/v1.2.4
# –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è...
git tag v1.2.4
git push origin v1.2.4
```

## üìã Checklist –¥–ª—è —Ä–µ–ª–∏–∑–∞

### –ü–µ—Ä–µ–¥ —Å–æ–∑–¥–∞–Ω–∏–µ–º —Ä–µ–ª–∏–∑–∞:
- [ ] –í—Å–µ —Ç–µ—Å—Ç—ã –ø—Ä–æ—Ö–æ–¥—è—Ç
- [ ] –û–±–Ω–æ–≤–ª–µ–Ω–∞ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è
- [ ] –û–±–Ω–æ–≤–ª—ë–Ω CHANGELOG.md (–µ—Å–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è)
- [ ] –ü—Ä–æ–≤–µ—Ä–µ–Ω–∞ —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å —Å –ø—Ä–µ–¥—ã–¥—É—â–∏–º–∏ –≤–µ—Ä—Å–∏—è–º–∏
- [ ] –í—ã–ø–æ–ª–Ω–µ–Ω—ã –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–æ–Ω–Ω—ã–µ —Ç–µ—Å—Ç—ã

### –ü–æ—Å–ª–µ —Å–æ–∑–¥–∞–Ω–∏—è —Ä–µ–ª–∏–∑–∞:
- [ ] –ü—Ä–æ–≤–µ—Ä–µ–Ω GitHub Release
- [ ] –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω—ã —Å–±–æ—Ä–∫–∏ –¥–ª—è –æ—Å–Ω–æ–≤–Ω—ã—Ö –ø–ª–∞—Ç—Ñ–æ—Ä–º
- [ ] Docker –æ–±—Ä–∞–∑ —É—Å–ø–µ—à–Ω–æ —Å–æ–±—Ä–∞–Ω
- [ ] –û–±–Ω–æ–≤–ª—ë–Ω README.md (–µ—Å–ª–∏ –Ω—É–∂–Ω–æ)
- [ ] –£–≤–µ–¥–æ–º–ª–µ–Ω—ã –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ (–µ—Å–ª–∏ –∫—Ä–∏—Ç–∏—á–Ω—ã–π —Ä–µ–ª–∏–∑)

## üõ†Ô∏è –û—Ç–ª–∞–¥–∫–∞ –ø—Ä–æ–±–ª–µ–º CI/CD

### –ß–∞—Å—Ç—ã–µ –ø—Ä–æ–±–ª–µ–º—ã:

1. **–°–±–æ—Ä–∫–∞ –Ω–µ –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è**
   - –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø—Ä–∞–≤–∞ –¥–æ—Å—Ç—É–ø–∞ –∫ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—é
   - –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ —Ç–µ–≥ —Å–æ–∑–¥–∞–Ω –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ

2. **–û—à–∏–±–∫–∏ —Å–±–æ—Ä–∫–∏ Go**
   - –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –≤–µ—Ä—Å–∏—é Go –≤ workflow
   - –£–±–µ–¥–∏—Ç–µ—Å—å –≤ –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ—Å—Ç–∏ –º–æ–¥—É–ª—å–Ω—ã—Ö –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π

3. **–ü—Ä–æ–±–ª–µ–º—ã —Å Docker**
   - –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø—Ä–∞–≤–∞ –¥–æ—Å—Ç—É–ø–∞ –∫ GitHub Container Registry
   - –£–±–µ–¥–∏—Ç–µ—Å—å –≤ –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ—Å—Ç–∏ Dockerfile

4. **–û—à–∏–±–∫–∏ release**
   - –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø—Ä–∞–≤–∞ GITHUB_TOKEN
   - –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ —Ç–µ–≥ –Ω–µ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç

### –ü–æ–ª–µ–∑–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã –¥–ª—è –æ—Ç–ª–∞–¥–∫–∏:
```bash
# –õ–æ–∫–∞–ª—å–Ω–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ —Å–±–æ—Ä–∫–∏
.\build.ps1 verify

# –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ Docker —Å–±–æ—Ä–∫–∏
docker build -t dbsync-test .

# –ü—Ä–æ–≤–µ—Ä–∫–∞ –≤–µ—Ä—Å–∏–π –∏ –º–µ—Ç–∞–¥–∞–Ω–Ω—ã—Ö
go version
git describe --tags --always
```

---

üí° **–°–æ–≤–µ—Ç**: –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ —Å–µ–º–∞–Ω—Ç–∏—á–µ—Å–∫–æ–µ –≤–µ—Ä—Å–∏–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ (SemVer) –¥–ª—è —Ç–µ–≥–æ–≤: `v{major}.{minor}.{patch}`
